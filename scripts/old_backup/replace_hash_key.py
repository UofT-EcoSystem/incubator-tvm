import os
import argparse

# mobilenet_v2

hash_key_old_mobilenet_v2_b1 = ['3d2584ce63849b41ce01e4bb4aca0610', 'adea1f281ff973fd5bac0824a31bca3f', '84e8a23f98ef434f50cdd792b19e1dfb', '07facfa9baf3572c553e1bf7f8eb0dc0', '02168580e70462dbfd3e0c6640bb25d9', '043aa06ad5bb634058b1b9d49e960831', '13aab0999b10a0c67c46e27c7081f181', '2258a21e006e13e9dc4c8a811ecf696f', '2dcf84d5dd644521aa74a5737eab9419', 'cb3711c208fd25441dd88eea925d7770', '3801b80f75b7a19ac2a445fbab4fef5f', '2fc8245ce4d795a8d952b6888468e18e', 'e2cd03e02b18c1713f916d43dc0d5acb', '53bdf2e698fee7f3d2632c8348744239', '2ca9c6a19b4976efeb285f46c7a4dce6', 'a0ef50d11e6f9030d581ed096d61dd5f', '0e558f16667618a52c3c42d94feb4d8c', '2b2fdbf6c71b3ef80b7b3bd8df211892', '87ccd68f75c7d0235ea7259e0a320e3c', '3c836730043e176d204ad379d38f26d7', 'e4ef2c15ce0468dc8d058c4a6a431655', '454fc27cfb3a0c77aae15170a8991e46', '0d5a887f3b5d010192b9b7f3f0a07e42', '606c2edacd4aed0f5c68484515f5c14b', '92772c551e4bd02c4c88c9d0081a2708', '144f03034cfda5b6e6723e487a383687', '9635cc3b670b404b3ccf5c653b805751', '65295e2d2d2cc48008240b44307ce708', 'f2b4d428106d67c4ba51bb4d248614b6', 'beeda7f51e6bc574afdd241ef6d63baf', 'eb773ff1caf85f1efa039ed5ec321bd0', '19dd85a98f98c7eaa46bda112e2fc3ae', '0011406734897c1e67976d2b1ce4a2c5']

hash_key_old_mobilenet_v2_b16 = ['3d2584ce63849b41ce01e4bb4aca0610', '7cb4711c31691446b96728f2c421be41', 'b7d462b5e9799afc09f838f9b6b9c8cf', 'dac7d9d0e113c247560f8ff19921d40f', '632502cc4635f3df7821d39ecdf47a6d', '006bb6b03d558d087a891906d46b7d3e', 'feaa7f62c58bbdc5da0a44177a3cdbee', '47e7c168dbb64b9370c5ce19e075cd22', 'e905a9442171de6105f633024b480c3f', 'e621a981388c58df3a1a49f098678d06', '3f75da06a0067cbdce45c2a91015e3c2', '1155701efb7492e93848510d5f63bd30', 'fd8a6d14ac70fdc6735fe5f8f0c9049d', 'f64c4bbb69618cf4b4b108453086e5c5', 'da7cc75aec7b19383b24398bce1a442b', '5d298e8fa9ae4db2ff3adadd04068802', 'fc5ebe80f33105acb977d406b7d8f9a3', 'da872f702d0301f02f88576c4babceb3', 'b9d6cfd1ddd755eb1a49251d23d0a9b4', '170c19c152cd0148a6cae34c1278c9df', 'f2968189d4f4d21145b03dbfa25b8436', '47d8e7662f4a55b7bdca484360a87e78', '381918259e4deaed186230e259176267', 'eb87940dd0dd8281e6e0c0fab943b66a', 'c7062d2f666c6143c662edced6120a4e', '002ebf86fc4ebda94edc214555715920', '31e8515720d05df01a23a8bbfb2e35a1', '7cf093d83fb149a18c335a7aa4f1d882', 'c9876ee74e7d3a96fc1faebc494bf5bd', '1d566d8e0273b7a5881f07d8c76d846a', '766ce43e141243b6f9635fbfeacbb77f', '160735f8964eed7b883240bcb0433237', '2366a3005abab5e66c90778260f5a431']

hash_key_new_mobilenet_v2_b1 = ['b126c3af139d208a60288608fa2091ac', '8f1445f67722e913c543ef064ad6f6b2', '84e8a23f98ef434f50cdd792b19e1dfb', '528e28752de3ae68cd18fed031dfd09d', '43e6a37434482873d8cea69b80e865d1', '80ddb67db44eda410a918e76b0922297', '329e04f242aa2402e827f2f64d72d932', '0fd3a6a683481b2445433c1582ea8b03', 'a54c78b1923399dfba146cbf6c4567b4', '9e64b3826f61a30c4f5b62a54ccfb339', '4a14666a3242aabe4878252e465171cd', '675b5b6edbba8c8adfe60f127547cd91', '1a649eaf586142019b5af65237bb8234', '12d29f48fc5cd2c000e317a4d409731d', '77b65c844efc48e1d2680341f931d751', 'dcd7b25957fc97f599058b042690ab30', '5972244bfb19c65ab6d1627b2ef404c9', '5156cd7ce8b67ad66c04896b7438b1db', 'c2d546d101884fdd70830496b8c57784', '00df790554f7ce86b6125c4c0cfb003d', '7dadf87ad8542e782e4e018af8e6d07c', '6c60b66f4a5eac5c684fcafd1b7fe0cf', '21d8cd45962f3d4124818d592a2dac39', '296a6073fbda8c797cc8c2a776537aed', '8007c274d716420836592781a2a0d84e', '1c488eed32dfefc0b76451d21fa3f0e4', 'c5a7eeed2f031a60ba14903e42f8c0e3', '4277ad5f28a132ad2a98eba0798050de', '4f7a1fd4877ce0cc39ecfa1c05d39682', '3c8d038ec5b12954dd11197caa6d784f', 'd8f4bd214f8e6fef836530a4de713c8e', 'c87455edea48065159f9cfff79ff77bc', 'f651cb50fc7856ad88ee1b7fbeaf104e']

hash_key_new_mobilenet_v2_b16 = ['b126c3af139d208a60288608fa2091ac', '18286868253465f507f9f353edccfb47', 'b7d462b5e9799afc09f838f9b6b9c8cf', 'cb2e7515e61912564ed3fa9664c26c82', '84cd677c8ef269b3bb6f5b572bc8a2bb', '340009faaef6b73efabe0f11be530f4b', '3d0f8932827566d2e112ed338adf26bb', '46f5d6d9e8b130f26757db8767dc3909', '9153c02529ecb235aade35c72b1410fd', '8303826a53c28e4b9e36118a46e61ede', 'f2cef2f82e887e13df263556f87fc299', '6b75b75506b4c2e003f11a55c023a7d6', '8bad44286ca88df54159ceade5e02e14', '5f9a5653ebc631478a3fa1fb4def7a04', 'bd71d1f44e16b787e90e3f426f521dc3', 'cc8d3e7d18edd3a0da25a2cb75d86448', '5231441bef034023eb811d64be0e112c', 'e06ccc0dcfd35a99c866b4091c839dc2', '7f43b9dfc154a155976b088dde418fdc', '3e0847c2b7cd7e9ecefd0443799e037a', '9fb5680cd73b1667d9561a63e24a4132', '040bb498fd8a9683962093c8d078a2d7', 'ea32638e16d3b42afc109cc3b3d107e4', '0a69c46fa2c46483f9836354af7f4d19', '6aae8f050ac736387fd2f8d1d01d7914', '0867f78d8209c1b0e1a52e68045dd3dd', '42f55eef63befaf736e792da5ee0e041', 'c5c951b4fdd3e3550208f21cfd3007f5', '60007126d64fceab596a1c55f54fffa2', '19b6cb83a1b1e8fd651137bb876a9807', 'ffa67e8b6a232a9002cf18c3f1f930f2', '51c18a777a0dd7b8409362bfa5a45ad3', '12cb359c9dfdfbe3f8861a52b43ed414']

# resnet3d
hash_key_old_resnet3d_b1 = ['700e8cff9fcc7822fd8b7b026a46b0c4', 'ada2a7a7b0ce17c6a2da86db05fdc895', '0d4a87fb02223c0387c3f904ce6e61aa', '68cbe146b3a54f8a802728591bd55693', '7c9a1f1f77794ea1ca98939b275f0289', 'aa1574a854671505f497c2f9b2cddb46', '3ab0947263aa2e41db513885811aaa86', '84751d89dd6359b8524b74d89aef6433', 'c33ea0eaad02dec1eadf17442cdebdfa', '9424a7eb1f7cf765367efdd8f650630c', '742a1e433aec91df27134724d8ec316d', 'fd8ad2979b48e652864b94d39044f111', 'cc5e1ec584b1b2c1c46327b5002b475b', '9ca085c45749b327bc8a752478d2e12f', '885443be57d5ca301c66d4a5c5420aed', '2ead7cefaada076f99ca97e6f4304a13', '0e13e7c790c3875abe7f1d4a15009781', 'f4ab26a8e29c6ae182776ce92925c47a', '7b9fc60d0781a197e803f944930409c3', '6fe2acaf789f19c7a31ad26d3b876979', 'a7e740772b485d0952e6be52bebb7f1a', 'c349e750088fe95fc60b64d6d60428bc', '53f1f35614791e9b313ffdc7e2d079ec']

hash_key_old_resnet3d_b16 = ['3969bf3571e44633cac2dfffb21d6c64', '7a3281f734797b164365db8d785b4b26', 'de56923d829cb2ec5f9afa57811a8f4f', 'b8ac35120abaffe1e726fa23438f0678', '8b75fc32edcb20ce68af7d0403e5e6c7', 'cf969705c1cd8f6bac741dab2147f0db', '02bfe3cf73c9e55f0335c819f9f9614d', '2d45a4bab4c35ce319756b7e8948903f', 'c9a74df78062fc43fd3f82f53587b4aa', '6302a005deeed5f68f1fa809aebf4dfc', '4fbe4f6864bd1701bb48905999e6a3a0', 'ffbd8d4b3a1d9ac4e614cd30f27cbabb', 'f0e1fbdaa031a0110391032c86a80225', '6d19ee3687000131eb3fe242d910cf2d', '06ae611489af738b35135af874078929', 'b0afe9ecfac32768c79247f1113d0ca0', '3991d52d5b0e074d70ea70e5fc44eb2f', '4e829b1e6a8aff0169f0f0773b0eac28', '71f20b584727f48d412baa720cf7cd2f', 'e544c31099f7c96fb5774b650ed441e8', '63cd4b766cc7a3a13ef3d0b6517049f4', '8c33253e6e1286b272b546743f3921fe', 'fc1e54af9de9ec2cf478ed1d42aa0387']

hash_key_new_resnet3d_b1 = ['cb485a4f97b7a4c50d5df7bdd445bf03', 'ada2a7a7b0ce17c6a2da86db05fdc895', '0d4a87fb02223c0387c3f904ce6e61aa', '9f73e142f5a25c6d9da3c5d2facf76a5', '4cdb3286fd1595714e393dbfa539cd96', '1256736660da81a660cb9ab9aab6050d', '9f9d059186f51a15e34965936fcefb37', '9950a286b062baaaf0f7ce5100f06502', '7a53a804d22b772dbb6738629f6ec35b', '19c34590c5187bd5e750a54b558a9379', 'a54668aa99c7cb38e503b6980ee5ecdc', '8a55eb8a77d857aee53a9e017ba64157', '19bfe50b6c8640e7f902d9d9ec212816', '1113935721d80269b0e51f9e3cf5fc98', '1fd580578d02158d33f8c1556d028c60', 'c7ee37890aaca14e4ea9fd4a5e199a2f', '6f52796654b4537ed2a613b69855aee2', '51314fa88be407175415a1e1429527d2', '544f7de9268cbc30e074141fcbf76a4c', '6fe2acaf789f19c7a31ad26d3b876979', 'a7e740772b485d0952e6be52bebb7f1a', 'c349e750088fe95fc60b64d6d60428bc', '53f1f35614791e9b313ffdc7e2d079ec']

hash_key_new_resnet3d_b16 = ['cb6435dcf5b5500a6bb3bd826edb87c9', '7a3281f734797b164365db8d785b4b26', 'de56923d829cb2ec5f9afa57811a8f4f', 'a8fedf51347a98418dd4689e605d2814', '05ebaecfdd538b1e2ca8ece328aabeb8', '5f6d432a10d7b8478298e6fb0541e519', '93093406b5f04d55f6dfe142ea007cad', '929c0a6d36482d7a6c167b703fe6cc7e', '8af9ff905b1020e80b3c0c13cee2120b', 'abea5d86b7a566d54522de6465740f8c', 'cd0a49fe4f914db1638e7ab412d6a45a', 'ac2bb325c04ecb2f7163880afdcdddf5', '2b2f6bd0c778df1bad04f19fd76250ad', '0c1bd176030136b196cfdcb3c0101a03', 'bcbf01ce9166b78b691bf3cfd712a383', '3522aede9f899bc0b9ad8b7f5fd043ca', 'a247f271ae44bd0a771c14217422b0c8', '0331b8de5a6dfaea4009d56fbb71c814', '0c47375b29f2cadc7bbe557f1f4612f6', 'e544c31099f7c96fb5774b650ed441e8', '63cd4b766cc7a3a13ef3d0b6517049f4', '8c33253e6e1286b272b546743f3921fe', 'fc1e54af9de9ec2cf478ed1d42aa0387']

if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument("log_file", type=str)
    args = parser.parse_args()

    #hash_key_old = hash_key_old_resnet3d_b16
    #hash_key_new = hash_key_new_resnet3d_b16
    hash_key_old = hash_key_old_mobilenet_v2_b16
    hash_key_new = hash_key_new_mobilenet_v2_b16

    for key in hash_key_old:
        if key in hash_key_new:
            assert hash_key_old.index(key) == hash_key_new.index(key)

    for old_key, new_key in zip(hash_key_old, hash_key_new):
        os.system('sed -i "s/%s/%s/g" %s' % (old_key, new_key, args.log_file))

